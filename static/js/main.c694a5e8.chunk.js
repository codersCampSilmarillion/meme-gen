(this["webpackJsonpmeme-gen"]=this["webpackJsonpmeme-gen"]||[]).push([[0],{101:function(e,t,a){e.exports=a(130)},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),i=a(12),m=a(165),o=a(166),s=a(169),u=a(50),p=a(185),h=a(170),d=a(171),g=a(172),f=a(173),E=a(89),b=a(167),v=a(168),j=a(82),x=a.n(j),O=a(83),y=a.n(O),w=a(85),S=a.n(w),k=a(84),M=a.n(k),I=a(32),C=Object(E.a)(m.a)({display:"flex",justifyContent:"space-between"}),N=Object(E.a)(I.b)({textDecoration:"none",color:"#ffffff"}),T=Object(E.a)(I.b)({textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"}),D=["Search Memes","Upload Meme","Favourites"],R=D.map((function(e){return r.a.createElement(o.a,{key:e},r.a.createElement(N,{to:"/".concat(e.replace(/ +/g,""))},e))})),F=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(b.a)("(max-width:550px)"),m=function(){l(!1)},o=r.a.createElement(v.a,{edge:"end",color:"inherit","aria-label":"menu",onClick:function(){l(!0)}},r.a.createElement(x.a,null));return r.a.createElement(s.a,null,r.a.createElement(C,null,r.a.createElement(u.a,{variant:"h6"},r.a.createElement(N,{to:"/"},"Meme-Gen")),c?o:r.a.createElement("div",null,R),r.a.createElement(p.a,{open:a,onClose:m},r.a.createElement(h.a,null,D.map((function(e,t){return r.a.createElement(d.a,{button:!0,key:e},r.a.createElement(g.a,null,"Search Memes"===e?r.a.createElement(y.a,null):"Upload Meme"===e?r.a.createElement(M.a,null):r.a.createElement(S.a,null)),r.a.createElement(f.a,null,r.a.createElement(T,{to:"/".concat(e.replace(/ +/g,"")),onClick:m},e)))}))))))},L=a(38),W=a(14),B=a.n(W),_=a(26),U=a(27),A=a(29),G=a(28),V=a(30),Y=a(174),H=a(184),q=Object(E.a)(o.a)({background:"linear-gradient(30deg, #bdc3c7 30%, #2c3e50 80%)",border:0,borderRadius:3,color:"white",height:48,padding:"4%",margin:"4%"}),z=Object(E.a)(H.a)({display:"inline",margin:2,padding:2,textAlign:"right"}),J=Object(E.a)(H.a)({marginTop:"8%",marginBottom:"2%",textAlign:"center"}),Q=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).state={randomImg:[],allMemeImg:[],alt:"",localStorage:[],errorMesssage:""},a}return Object(V.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this;return B.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){var a=t.data.memes;e.setState({allMemeImg:a,localStorage:e.allStorage()});var n=e.allStorage(),r=n.sort((function(e,t){return n.filter((function(t){return t===e})).length-n.filter((function(e){return e===t})).length})).pop(),l=e.find(r);e.setState({randomImg:l.url,alt:l.name})})).catch((function(t){e.setState({errorMessage:t.message})})));case 2:case"end":return t.stop()}}))}},{key:"allStorage",value:function(){for(var e=[],t=Object.keys(localStorage),a=t.length;a--;)e.push(localStorage.getItem(t[a]));return e}},{key:"find",value:function(e){return this.state.allMemeImg.filter((function(t){return t.id.includes(e)})).find((function(e){return e.url}))}},{key:"render",value:function(){return 0==localStorage.length?r.a.createElement(J,null,r.a.createElement(u.a,{variant:"h3"},"You do not have favourite meme yet"),r.a.createElement(I.b,{to:"/UploadMeme"},r.a.createElement(q,null,"Start make a meme"))):this.state.errorMessage?r.a.createElement("div",null,r.a.createElement("h1",null,"Server is not available.",r.a.createElement("p",null,"Try again later"),r.a.createElement("img",{src:"http://www.samsungsfour.com/images/exclamation.png",alt:"Error img"}))):r.a.createElement(Y.a,{align:"center"},r.a.createElement(J,null,r.a.createElement(u.a,{variant:"h2"},"Your favorite meme")),r.a.createElement("img",{src:this.state.randomImg,width:400,alt:this.state.alt}))}}]),t}(n.Component),Z=a(176),K=a(177),P=a(178),X=a(25),$=a(175),ee=Object($.a)((function(e){var t,a;return{root:(t={display:"flex",marginTop:"80px"},Object(X.a)(t,e.breakpoints.down(700),{flexDirection:"column",alignItems:"center"}),Object(X.a)(t,"justifyContent","space-around"),Object(X.a)(t,"overflow","hidden"),Object(X.a)(t,"backgroundColor",e.palette.background.paper),Object(X.a)(t,"border","1px solid rgba(0, 0, 0, 0.12)"),Object(X.a)(t,"padding","10px"),t),gridList:{flexWrap:"nowrap",transform:"translateZ(0)",maxHeight:"200px"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},tile:{cursor:"pointer"},selectedImage:(a={marginBottom:"30px",maxWidth:"80%"},Object(X.a)(a,e.breakpoints.down(400),{maxWidth:"270px"}),Object(X.a)(a,"border","1px solid rgba(0, 0, 0, 0.12)"),a),selectedTitle:{padding:"10px"},selected:Object(X.a)({display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",width:"50%"},e.breakpoints.down(700),{width:"80%"}),formList:Object(X.a)({display:"flex",flexDirection:"column",width:"50%"},e.breakpoints.down(700),{width:"100%"})}})),te=function(e){var t=e.selectedTemplate,a=e.setSelectedTemplate,l=e.children,c=Object(n.useState)([]),m=Object(i.a)(c,2),o=m[0],s=m[1],p=ee(),h=o.map((function(e){return r.a.createElement(Z.a,{key:e.id,className:p.tile,onClick:function(){return a(e)}},r.a.createElement("img",{className:p.image,src:e.url,alt:e.name}),r.a.createElement(K.a,{title:e.name,className:p.titleBar}))}));Object(n.useEffect)((function(){!function(){var e,t;B.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"https://api.imgflip.com/get_memes",a.prev=1,a.next=4,B.a.awrap(fetch("https://api.imgflip.com/get_memes"));case 4:return e=a.sent,a.next=7,B.a.awrap(e.json());case 7:t=a.sent,s(t.data.memes),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0);case 14:case"end":return a.stop()}}),null,null,[[1,11]])}()}),[]);var d=Object(b.a)("(max-width: 550px)");return r.a.createElement(Y.a,{maxWidth:"md"},r.a.createElement("div",{className:p.root},r.a.createElement("div",{className:p.formList},r.a.createElement(P.a,{className:p.gridList,cols:d?2:3},h),l),r.a.createElement("div",{className:p.selected},r.a.createElement(u.a,{variant:"h6",className:p.selectedTitle},t.name),r.a.createElement("img",{className:p.selectedImage,alt:t.name,src:t.url}))))},ae=a(183),ne=a(180),re=a(179),le=Object($.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},form:{display:"flex",flexDirection:"column"},input:{margin:"5px"},btn:{width:"200px",marginRight:"auto",marginLeft:"auto"},content:{textAlign:"center"},link:{textDecoration:"underline"},image:{maxHeight:"60vh"}}}));function ce(e){var t=e.onClose,a=e.selectedValue,l=e.open,c=e.value,m=Object(n.useState)(!0),s=Object(i.a)(m,2),p=s[0],h=s[1],d=le();return r.a.createElement(re.a,{onClose:function(){t(a)},open:l,maxWidth:"lg",fullWidth:!0},r.a.createElement(ne.a,null,"Your meme"),r.a.createElement("div",{className:d.content},p?r.a.createElement(u.a,{variant:"h6"},"Loading..."):null,r.a.createElement("img",{src:c,alt:"your meme",className:d.image,onLoad:function(){return h(!1)},style:p?{display:"none"}:{}}),r.a.createElement("p",null,r.a.createElement(o.a,{variant:"contained",color:"primary",href:c},"Share Your meme"))))}var ie=function(e){var t=e.selectedTemplate,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],m=l[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],h=u[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2),f=g[0],E=g[1],b=Object(n.useState)(),v=Object(i.a)(b,2),j=v[0],x=v[1],O=Object(n.useState)(!0),y=Object(i.a)(O,2),w=y[0],S=y[1],k=le(),M={template_id:t,text0:c,text1:p,username:"silmarillion",password:"1silmarillion23"};return Object(n.useEffect)((function(){!function(e,t){0===e.length&&0===t.length?S(!0):S(!1)}(c,p)}),[c,p]),r.a.createElement("div",null,r.a.createElement("form",{className:k.form,onSubmit:function(e){var a,n,r;return B.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),l.prev=1,l.next=4,B.a.awrap(fetch("https://api.imgflip.com/caption_image".concat((c=M,"?"+Object.entries(c).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&")))));case 4:return a=l.sent,l.next=7,B.a.awrap(a.json());case 7:n=l.sent,x(n.data.url),r=localStorage.getItem("number"),localStorage.setItem(r,t),localStorage.setItem("number",r+1),l.next=17;break;case 14:l.prev=14,l.t0=l.catch(1),console.error(l.t0);case 17:case"end":return l.stop()}var c}),null,null,[[1,14]])},autoComplete:"off"},r.a.createElement(ae.a,{label:"Top text",variant:"outlined",type:"text",name:"topText",onChange:function(e){m(e.target.value)},className:k.input}),r.a.createElement(ae.a,{label:"Bottom text",variant:"outlined",type:"text",name:"bottomText",onChange:function(e){h(e.target.value)},className:k.input}),r.a.createElement(o.a,{variant:"contained",type:"submit",onClick:function(){void 0===t?alert("Select a template!"):E(!0)},className:k.btn,disabled:w},"Generate meme"),r.a.createElement(ce,{open:f,onClose:function(e){E(!1),x()},value:j})))},me=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{setSelectedTemplate:l,selectedTemplate:a},r.a.createElement(ie,{selectedTemplate:a.id})))},oe=a(181),se=a(182),ue=a(186),pe=a(56),he=a.n(pe),de=function(e,t){return t<=1500&&e<=1500?t>1e3||e>1e3?.4:t>560&&t<1e3||e>560&&e<1e3?.6:.8:.2},ge=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).state={randomImg:"",allMemeImg:[],alt:"",width:"",height:"",errorMesssage:""},a}return Object(V.a)(t,e),Object(U.a)(t,[{key:"random",value:function(){var e=Math.floor(Math.random()*this.state.allMemeImg.length),t=this.state.allMemeImg[e],a=t.url,n=t.name,r=t.width,l=t.height;this.setState({randomImg:a,alt:n,width:r,height:l})}},{key:"componentDidMount",value:function(){var e=this;return B.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){var a=t.data.memes;e.setState({allMemeImg:a}),e.random()})).catch((function(t){e.setState({errorMessage:t.message})})));case 2:case"end":return t.stop()}}))}},{key:"render",value:function(){return this.state.errorMessage?r.a.createElement("div",null,r.a.createElement(J,null,"Server is not available.",r.a.createElement("p",null,"Try again later"),r.a.createElement("img",{src:"http://www.samsungsfour.com/images/exclamation.png",alt:"Error img"}))):r.a.createElement(Y.a,null,r.a.createElement(J,null,r.a.createElement(u.a,{variant:"h2"},"Make your own amazing meme!"),r.a.createElement(u.a,{variant:"h6"},"Create your meme easy")),r.a.createElement(oe.a,{container:!0,spacing:1,style:{backgroundColor:" rgb(245,245,240)"}},r.a.createElement(z,null,r.a.createElement("img",{src:this.state.randomImg,alt:this.state.alt,width:this.state.width*de(this.state.width,this.state.height),height:this.state.height*de(this.state.width,this.state.height)})),r.a.createElement(z,null,r.a.createElement(u.a,{variant:"h4"},r.a.createElement("br",null),"How to make a meme:"),r.a.createElement(d.a,null,r.a.createElement(se.a,null,r.a.createElement(ue.a,null,r.a.createElement(he.a,null))),r.a.createElement(f.a,{primary:"Choose you meme template"})),r.a.createElement(d.a,null,r.a.createElement(se.a,null,r.a.createElement(ue.a,null,r.a.createElement(he.a,null))),r.a.createElement(f.a,{primary:"Write your unique text"})),r.a.createElement(d.a,null,r.a.createElement(se.a,null,r.a.createElement(ue.a,null,r.a.createElement(he.a,null))),r.a.createElement(f.a,{primary:"Voila! You have just created a meme"})),r.a.createElement(I.b,{to:"/UploadMeme"},r.a.createElement(q,null,"Start make a meme")))))}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).state={hasError:"",errorMessage:""},a}return Object(V.a)(t,e),Object(U.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:e,errorMessage:t})}},{key:"render",value:function(){return this.state.errorMessage?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}]),t}(r.a.Component),Ee=(a(51),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},a.onFormSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.term)},a}return Object(V.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onFormSubmit,noValidate:!0,autoComplete:"off",className:"search"},r.a.createElement(ae.a,{label:"GIF Name",variant:"outlined",type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})}})))}}]),t}(r.a.Component)),be=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).setSpans=function(){var e=a.memeRef.current.height,t=Math.ceil(e/10);a.setState({spans:t})},a.state={spans:0},a.memeRef=r.a.createRef(),a}return Object(V.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.memeRef.current.addEventListener("load",this.setSpans),console.log(this.props.meme)}},{key:"render",value:function(){return r.a.createElement("div",{style:{gridRowEnd:"span ".concat(this.state.spans)}},r.a.createElement("img",{ref:this.memeRef,src:this.props.meme.images.downsized.url,alt:this.props.meme.title}))}}]),t}(r.a.Component),ve=function(e){var t=e.memes.map((function(e){return r.a.createElement(be,{meme:e,key:e.id})}));return r.a.createElement("div",{className:"mem-list"},t)},je=a(88),xe=a.n(je),Oe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"header"},r.a.createElement(u.a,{variant:"h1"},"GIF SEARCHER"),r.a.createElement(u.a,{variant:"h4"},"Insert a phrase, press Enter and search for your favorite GIF!"),r.a.createElement(Ee,{onSubmit:function(e){var t;return B.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.a.awrap(xe.a.get("http://api.giphy.com/v1/gifs/search",{params:{api_key:"9zdu5qM9hpvnV2VpvxbWEsBUt5bIxQJg",q:e}}));case 3:t=a.sent,l(t.data.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}})),r.a.createElement(ve,{memes:a}))},ye=function(){return r.a.createElement(I.a,null,r.a.createElement(F,null),r.a.createElement(L.c,null,r.a.createElement(L.a,{exact:!0,path:"/"},r.a.createElement(fe,null,r.a.createElement(ge,null))),r.a.createElement(L.a,{exact:!0,path:"/SearchMemes"},r.a.createElement(Oe,null)),r.a.createElement(L.a,{exact:!0,path:"/UploadMeme"},r.a.createElement(me,null)),r.a.createElement(L.a,{exact:!0,path:"/Favourites"},r.a.createElement(Q,null))))};c.a.render(r.a.createElement(ye,null),document.getElementById("root"))},51:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.c694a5e8.chunk.js.map